created: 20250321112710649
modified: 20250321113350950
tags: 计算机科学/运维/WindowsServer安装宝塔面板 ChatGPT
title: 计算机科学/运维/WindowsServer安装宝塔面板/为什么安装完成后弹窗提供的后台网址无法访问？
type: text/vnd.tiddlywiki

这是因为宝塔面板在安装完成后，会尝试获取服务器的''外网 IP''，并将其作为后台访问地址提供给你。但是，在你的网络环境中，由于虚拟机是桥接模式，并且宿主机连接的是 WiFi，获取到的公网 IP 实际上是路由器的外网 IP，而不是虚拟机自身的局域网 IP。

!!! ''为什么会出现这种情况？''

# ''桥接模式的工作原理''
# * 在 VMWARE 中，桥接模式（Bridged）会让虚拟机与宿主机共享同一个物理网络，并获取局域网（LAN）中的 IP 地址。
# * 你的宿主机通过 WiFi 连接路由器，虚拟机在桥接模式下也会通过同一个路由器分配到一个''局域网 IP（如 192.168.x.x）''。
# ''宝塔面板获取 IP 逻辑''
# * 宝塔面板的 IP 识别逻辑通常是：
# * # 先尝试获取公网 IP（可能通过 `curl ifconfig.me` 等外部服务）。
# * # 如果获取到公网 IP，就认为这个 IP 是服务器的访问地址（适用于云服务器）。
# * # 如果没有公网 IP，才会使用局域网 IP。
# * 由于你的宿主机是通过 WiFi 连接的，宝塔面板检测到的公网 IP 其实是''路由器的外网 IP''，但这个公网 IP 并不是你虚拟机的实际 IP，因此无法直接访问。

!!! ''如何正确访问宝塔面板？''

你需要使用''虚拟机的局域网 IPv4 地址''来访问，而不是宝塔面板提供的公网地址。

!!!! ''步骤：''

# ''在 Windows Server 2025 虚拟机中获取本机 IP''
# * 打开''命令提示符（CMD）''，输入：
# * ```powershell
# * ipconfig
# * ```
# * 找到 ''以太网适配器''（或 WiFi 适配器，如果你的虚拟机使用无线网卡）对应的 ''IPv4 地址''（通常是 `192.168.x.x` 或 `10.x.x.x` ）。

# ''使用正确的地址访问宝塔''
# * 在宿主机或局域网内的其他设备的浏览器中，访问：
# *     http://[虚拟机IP]:8888
# * 例如，如果 `ipconfig` 显示你的虚拟机 IP 是 `192.168.1.100`，则访问：
# *     http://192.168.1.100:8888

# ''防火墙配置（如果仍然无法访问）''
# * 确保 Windows Server 防火墙允许 8888 端口访问：
# * ```powershell
# * netsh advfirewall firewall add rule name="BTPanel" dir=in action=allow protocol=TCP localport=8888
# * ```
# * 或者，直接关闭 Windows Server 的防火墙（测试用，不推荐长期关闭）：
# * ```powershell
# * netsh advfirewall set allprofiles state off
# * ```

# ''确认 VMWARE 网络配置''
# * 打开 ''VMware 网络编辑器''，检查你的''桥接模式是否正确''：
# ** 如果你用的是 WiFi，需要确保桥接到了正确的网卡（通常是 ''WiFi 网卡''）。
# ** 进入 ''VMware 网络编辑器''（`vmnetcfg`），找到 ''桥接模式''，选择''WiFi 适配器''（而不是自动桥接）。

!!! ''总结''

宝塔面板默认提供的公网地址是获取到的''外网 IP''，但由于你的虚拟机使用的是局域网 IP，所以不能直接用这个公网地址访问。你应该使用 `ipconfig` 找到虚拟机的局域网 IP，并使用 `http://[局域网IP]:8888` 访问宝塔后台。
